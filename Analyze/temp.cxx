955a956,984
>   TH1F *hh_shengli_ecore_pospion_pt15_centMB = new TH1F("hh_shengli_ecore_pospion_pt15_centMB","...",1000,0,10);
>   TH1F *hh_shengli_ecore_pospion_pt25_centMB = new TH1F("hh_shengli_ecore_pospion_pt25_centMB","...",1000,0,10);
>   TH1F *hh_shengli_ecore_pospion_pt35_centMB = new TH1F("hh_shengli_ecore_pospion_pt35_centMB","...",1000,0,10);
>   TH1F *hh_shengli_ecore_posproton_pt15_centMB = new TH1F("hh_shengli_ecore_posproton_pt15_centMB","...",1000,0,10);
>   TH1F *hh_shengli_ecore_posproton_pt25_centMB = new TH1F("hh_shengli_ecore_posproton_pt25_centMB","...",1000,0,10);
>   TH1F *hh_shengli_ecore_posproton_pt35_centMB = new TH1F("hh_shengli_ecore_posproton_pt35_centMB","...",1000,0,10);
> 
>   TH1F *hh_shengli_ecore_pospion_pt15_cent6 = new TH1F("hh_shengli_ecore_pospion_pt15_cent6","...",1000,0,10);
>   TH1F *hh_shengli_ecore_pospion_pt25_cent6 = new TH1F("hh_shengli_ecore_pospion_pt25_cent6","...",1000,0,10);
>   TH1F *hh_shengli_ecore_pospion_pt35_cent6 = new TH1F("hh_shengli_ecore_pospion_pt35_cent6","...",1000,0,10);
>   TH1F *hh_shengli_ecore_posproton_pt15_cent6 = new TH1F("hh_shengli_ecore_posproton_pt15_cent6","...",1000,0,10);
>   TH1F *hh_shengli_ecore_posproton_pt25_cent6 = new TH1F("hh_shengli_ecore_posproton_pt25_cent6","...",1000,0,10);
>   TH1F *hh_shengli_ecore_posproton_pt35_cent6 = new TH1F("hh_shengli_ecore_posproton_pt35_cent6","...",1000,0,10);
> 
>   // now neg
> 
>   TH1F *hh_shengli_ecore_negpion_pt15_centMB = new TH1F("hh_shengli_ecore_negpion_pt15_centMB","...",1000,0,10);
>   TH1F *hh_shengli_ecore_negpion_pt25_centMB = new TH1F("hh_shengli_ecore_negpion_pt25_centMB","...",1000,0,10);
>   TH1F *hh_shengli_ecore_negpion_pt35_centMB = new TH1F("hh_shengli_ecore_negpion_pt35_centMB","...",1000,0,10);
>   TH1F *hh_shengli_ecore_negproton_pt15_centMB = new TH1F("hh_shengli_ecore_negproton_pt15_centMB","...",1000,0,10);
>   TH1F *hh_shengli_ecore_negproton_pt25_centMB = new TH1F("hh_shengli_ecore_negproton_pt25_centMB","...",1000,0,10);
>   TH1F *hh_shengli_ecore_negproton_pt35_centMB = new TH1F("hh_shengli_ecore_negproton_pt35_centMB","...",1000,0,10);
> 
>   TH1F *hh_shengli_ecore_negpion_pt15_cent6 = new TH1F("hh_shengli_ecore_negpion_pt15_cent6","...",1000,0,10);
>   TH1F *hh_shengli_ecore_negpion_pt25_cent6 = new TH1F("hh_shengli_ecore_negpion_pt25_cent6","...",1000,0,10);
>   TH1F *hh_shengli_ecore_negpion_pt35_cent6 = new TH1F("hh_shengli_ecore_negpion_pt35_cent6","...",1000,0,10);
>   TH1F *hh_shengli_ecore_negproton_pt15_cent6 = new TH1F("hh_shengli_ecore_negproton_pt15_cent6","...",1000,0,10);
>   TH1F *hh_shengli_ecore_negproton_pt25_cent6 = new TH1F("hh_shengli_ecore_negproton_pt25_cent6","...",1000,0,10);
>   TH1F *hh_shengli_ecore_negproton_pt35_cent6 = new TH1F("hh_shengli_ecore_negproton_pt35_cent6","...",1000,0,10);
959,967c988,1008
<   TH2F *hh_X_ecorept_pospion_centMB = new TH2F("hh_X_ecorept_pospion_centMB","...",50,0.0,5.0,100,0.0,5.0);
<   TH2F *hh_X_ecorept_negpion_centMB = new TH2F("hh_X_ecorept_negpion_centMB","...",50,0.0,5.0,100,0.0,5.0);
<   TH2F *hh_X_ecorept_posproton_centMB = new TH2F("hh_X_ecorept_posproton_centMB","...",50,0.0,5.0,100,0.0,5.0);
<   TH2F *hh_X_ecorept_negproton_centMB = new TH2F("hh_X_ecorept_negproton_centMB","...",50,0.0,5.0,100,0.0,5.0);
<   TH2F *hh_X_ecorept_pospion_cent6 = new TH2F("hh_X_ecorept_pospion_cent6","...",50,0.0,5.0,100,0.0,5.0);
<   TH2F *hh_X_ecorept_negpion_cent6 = new TH2F("hh_X_ecorept_negpion_cent6","...",50,0.0,5.0,100,0.0,5.0);
<   TH2F *hh_X_ecorept_posproton_cent6 = new TH2F("hh_X_ecorept_posproton_cent6","...",50,0.0,5.0,100,0.0,5.0);
<   TH2F *hh_X_ecorept_negproton_cent6 = new TH2F("hh_X_ecorept_negproton_cent6","...",50,0.0,5.0,100,0.0,5.0);
<   //
---
>   TH2F *hh_shengli_ecorept_pospion_centMB = new TH2F("hh_shengli_ecorept_pospion_centMB","...",50,0.0,5.0,100,0.0,5.0);
>   TH2F *hh_shengli_ecorept_negpion_centMB = new TH2F("hh_shengli_ecorept_negpion_centMB","...",50,0.0,5.0,100,0.0,5.0);
>   TH2F *hh_shengli_ecorept_posproton_centMB = new TH2F("hh_shengli_ecorept_posproton_centMB","...",50,0.0,5.0,100,0.0,5.0);
>   TH2F *hh_shengli_ecorept_negproton_centMB = new TH2F("hh_shengli_ecorept_negproton_centMB","...",50,0.0,5.0,100,0.0,5.0);
> 
>   TH2F *hh_shengli_ecorept_pospion_cent6 = new TH2F("hh_shengli_ecorept_pospion_cent6","...",50,0.0,5.0,100,0.0,5.0);
>   TH2F *hh_shengli_ecorept_negpion_cent6 = new TH2F("hh_shengli_ecorept_negpion_cent6","...",50,0.0,5.0,100,0.0,5.0);
>   TH2F *hh_shengli_ecorept_posproton_cent6 = new TH2F("hh_shengli_ecorept_posproton_cent6","...",50,0.0,5.0,100,0.0,5.0);
>   TH2F *hh_shengli_ecorept_negproton_cent6 = new TH2F("hh_shengli_ecorept_negproton_cent6","...",50,0.0,5.0,100,0.0,5.0);
> 
> 
>   TH2F *hh_X_ecorept_pospion_centMB = new TH2F("hh_X_ecorept_pospion_centMB","...",50,0.0,5.0,200,0.0,2.0);
>   TH2F *hh_X_ecorept_negpion_centMB = new TH2F("hh_X_ecorept_negpion_centMB","...",50,0.0,5.0,200,0.0,2.0);
>   TH2F *hh_X_ecorept_posproton_centMB = new TH2F("hh_X_ecorept_posproton_centMB","...",50,0.0,5.0,200,0.0,2.0);
>   TH2F *hh_X_ecorept_negproton_centMB = new TH2F("hh_X_ecorept_negproton_centMB","...",50,0.0,5.0,200,0.0,2.0);
>   TH2F *hh_X_ecorept_pospion_cent6 = new TH2F("hh_X_ecorept_pospion_cent6","...",50,0.0,5.0,200,0.0,2.0);
>   TH2F *hh_X_ecorept_negpion_cent6 = new TH2F("hh_X_ecorept_negpion_cent6","...",50,0.0,5.0,200,0.0,2.0);
>   TH2F *hh_X_ecorept_posproton_cent6 = new TH2F("hh_X_ecorept_posproton_cent6","...",50,0.0,5.0,200,0.0,2.0);
>   TH2F *hh_X_ecorept_negproton_cent6 = new TH2F("hh_X_ecorept_negproton_cent6","...",50,0.0,5.0,200,0.0,2.0);
> 
> 
976c1017
<   //
---
> 
986d1026
<   // ---
988,1017c1028
<   TH2F *hh_Y_ecorept_pospion_centMB = new TH2F("hh_Y_ecorept_pospion_centMB","...",50,0.0,5.0,100,0.0,5.0);
<   TH2F *hh_Y_ecorept_negpion_centMB = new TH2F("hh_Y_ecorept_negpion_centMB","...",50,0.0,5.0,100,0.0,5.0);
<   TH2F *hh_Y_ecorept_posproton_centMB = new TH2F("hh_Y_ecorept_posproton_centMB","...",50,0.0,5.0,100,0.0,5.0);
<   TH2F *hh_Y_ecorept_negproton_centMB = new TH2F("hh_Y_ecorept_negproton_centMB","...",50,0.0,5.0,100,0.0,5.0);
<   TH2F *hh_Y_ecorept_pospion_cent6 = new TH2F("hh_Y_ecorept_pospion_cent6","...",50,0.0,5.0,100,0.0,5.0);
<   TH2F *hh_Y_ecorept_negpion_cent6 = new TH2F("hh_Y_ecorept_negpion_cent6","...",50,0.0,5.0,100,0.0,5.0);
<   TH2F *hh_Y_ecorept_posproton_cent6 = new TH2F("hh_Y_ecorept_posproton_cent6","...",50,0.0,5.0,100,0.0,5.0);
<   TH2F *hh_Y_ecorept_negproton_cent6 = new TH2F("hh_Y_ecorept_negproton_cent6","...",50,0.0,5.0,100,0.0,5.0);
<   //
<   TH1F *hh_Y_spectpt_pospion_centMB = new TH1F("hh_Y_spectpt_pospion_centMB", "...", 100, 0.0, 10.0);
<   TH1F *hh_Y_spectpt_negpion_centMB = new TH1F("hh_Y_spectpt_negpion_centMB", "...", 100, 0.0, 10.0);
<   TH1F *hh_Y_spectpt_posproton_centMB = new TH1F("hh_Y_spectpt_posproton_centMB", "...", 100, 0.0, 10.0);
<   TH1F *hh_Y_spectpt_negproton_centMB = new TH1F("hh_Y_spectpt_negproton_centMB", "...", 100, 0.0, 10.0);
<   TH1F *hh_Y_spectpt_pospion_cent6 = new TH1F("hh_Y_spectpt_pospion_cent6", "...", 100, 0.0, 10.0);
<   TH1F *hh_Y_spectpt_negpion_cent6 = new TH1F("hh_Y_spectpt_negpion_cent6", "...", 100, 0.0, 10.0);
<   TH1F *hh_Y_spectpt_posproton_cent6 = new TH1F("hh_Y_spectpt_posproton_cent6", "...", 100, 0.0, 10.0);
<   TH1F *hh_Y_spectpt_negproton_cent6 = new TH1F("hh_Y_spectpt_negproton_cent6", "...", 100, 0.0, 10.0);
<   //
<   TH1F *hh_Y_specept_pospion_centMB = new TH1F("hh_Y_specept_pospion_centMB", "...", 100, 0.0, 10.0);
<   TH1F *hh_Y_specept_negpion_centMB = new TH1F("hh_Y_specept_negpion_centMB", "...", 100, 0.0, 10.0);
<   TH1F *hh_Y_specept_posproton_centMB = new TH1F("hh_Y_specept_posproton_centMB", "...", 100, 0.0, 10.0);
<   TH1F *hh_Y_specept_negproton_centMB = new TH1F("hh_Y_specept_negproton_centMB", "...", 100, 0.0, 10.0);
<   TH1F *hh_Y_specept_pospion_cent6 = new TH1F("hh_Y_specept_pospion_cent6", "...", 100, 0.0, 10.0);
<   TH1F *hh_Y_specept_negpion_cent6 = new TH1F("hh_Y_specept_negpion_cent6", "...", 100, 0.0, 10.0);
<   TH1F *hh_Y_specept_posproton_cent6 = new TH1F("hh_Y_specept_posproton_cent6", "...", 100, 0.0, 10.0);
<   TH1F *hh_Y_specept_negproton_cent6 = new TH1F("hh_Y_specept_negproton_cent6", "...", 100, 0.0, 10.0);
< 
<   // ---------------------------- //
<   // --- Done with Histograms --- //
<   // ---------------------------- //
---
>   // --- Done with Histograms ---------------------
1284c1295
< 	      //pc3phi = pi/2 - pc3phi; // TEMP!
---
> 	      pc3phi = pi/2 - pc3phi;
1302c1313
< 	      tofwphi = pi/2 - tofwphi; // TEMP!
---
> 	      tofwphi = pi/2 - tofwphi;
1521c1532
< 	      //emcphi = pi/2 - emcphi;
---
> 	      emcphi = pi/2 - emcphi;
1596c1607
< 	      //
---
> 
1605,1643d1615
< 	      //
< 	      if(charge>0&&dis0) hh_X_ecorept_pospion_centMB->Fill(pT,ecore); // new
< 	      if(charge<0&&dis0) hh_X_ecorept_negpion_centMB->Fill(pT,ecore); // new
< 	      if(charge>0&&dis6) hh_X_ecorept_posproton_centMB->Fill(pT,ecore); // new
< 	      if(charge<0&&dis6) hh_X_ecorept_negproton_centMB->Fill(pT,ecore); // new
< 	      if(charge>0&&cent>60&&cent<94&&dis0) hh_X_ecorept_pospion_cent6->Fill(pT,ecore); // new
< 	      if(charge<0&&cent>60&&cent<94&&dis0) hh_X_ecorept_negpion_cent6->Fill(pT,ecore); // new
< 	      if(charge>0&&cent>60&&cent<94&&dis6) hh_X_ecorept_posproton_cent6->Fill(pT,ecore); // new
< 	      if(charge<0&&cent>60&&cent<94&&dis6) hh_X_ecorept_negproton_cent6->Fill(pT,ecore); // new
< 
< 	      if(regular_cuts&&edge&&inner&&good_emc) // ok
< 		{
< 		  if(charge>0&&dis0) hh_Y_spectpt_pospion_centMB->Fill(pT);
< 		  if(charge<0&&dis0) hh_Y_spectpt_negpion_centMB->Fill(pT);
< 		  if(charge>0&&dis6) hh_Y_spectpt_posproton_centMB->Fill(pT);
< 		  if(charge<0&&dis6) hh_Y_spectpt_negproton_centMB->Fill(pT);
< 		  if(charge>0&&dis0&&ecore/pT>0.2) hh_Y_specept_pospion_centMB->Fill(pT);
< 		  if(charge<0&&dis0&&ecore/pT>0.2) hh_Y_specept_negpion_centMB->Fill(pT);
< 		  if(charge>0&&dis6&&ecore/pT>0.2) hh_Y_specept_posproton_centMB->Fill(pT);
< 		  if(charge<0&&dis6&&ecore/pT>0.2) hh_Y_specept_negproton_centMB->Fill(pT);
< 		  //
< 		  if(cent>60&&charge>0&&dis0) hh_Y_spectpt_pospion_cent6->Fill(pT);
< 		  if(cent>60&&charge<0&&dis0) hh_Y_spectpt_negpion_cent6->Fill(pT);
< 		  if(cent>60&&charge>0&&dis6) hh_Y_spectpt_posproton_cent6->Fill(pT);
< 		  if(cent>60&&charge<0&&dis6) hh_Y_spectpt_negproton_cent6->Fill(pT);
< 		  if(cent>60&&charge>0&&dis0&&ecore/pT>0.2) hh_Y_specept_pospion_cent6->Fill(pT);
< 		  if(cent>60&&charge<0&&dis0&&ecore/pT>0.2) hh_Y_specept_negpion_cent6->Fill(pT);
< 		  if(cent>60&&charge>0&&dis6&&ecore/pT>0.2) hh_Y_specept_posproton_cent6->Fill(pT);
< 		  if(cent>60&&charge<0&&dis6&&ecore/pT>0.2) hh_Y_specept_negproton_cent6->Fill(pT);
< 		  //
< 		  if(charge>0&&dis0) hh_Y_ecorept_pospion_centMB->Fill(pT,ecore); // new
< 		  if(charge<0&&dis0) hh_Y_ecorept_negpion_centMB->Fill(pT,ecore); // new
< 		  if(charge>0&&dis6) hh_Y_ecorept_posproton_centMB->Fill(pT,ecore); // new
< 		  if(charge<0&&dis6) hh_Y_ecorept_negproton_centMB->Fill(pT,ecore); // new
< 		  if(charge>0&&cent>60&&cent<94&&dis0) hh_Y_ecorept_pospion_cent6->Fill(pT,ecore); // new
< 		  if(charge<0&&cent>60&&cent<94&&dis0) hh_Y_ecorept_negpion_cent6->Fill(pT,ecore); // new
< 		  if(charge>0&&cent>60&&cent<94&&dis6) hh_Y_ecorept_posproton_cent6->Fill(pT,ecore); // new
< 		  if(charge<0&&cent>60&&cent<94&&dis6) hh_Y_ecorept_negproton_cent6->Fill(pT,ecore); // new
< 		}
1644a1617,1661
> 	      if(charge>0&&dis0) hh_shengli_ecorept_pospion_centMB->Fill(pT,ecore); // new
> 	      if(charge<0&&dis0) hh_shengli_ecorept_negpion_centMB->Fill(pT,ecore); // new
> 	      if(charge>0&&dis6) hh_shengli_ecorept_posproton_centMB->Fill(pT,ecore); // new
> 	      if(charge<0&&dis6) hh_shengli_ecorept_negproton_centMB->Fill(pT,ecore); // new
> 	      if(charge>0&&cent>60&&cent<94&&dis0) hh_shengli_ecorept_pospion_cent6->Fill(pT,ecore); // new
> 	      if(charge<0&&cent>60&&cent<94&&dis0) hh_shengli_ecorept_negpion_cent6->Fill(pT,ecore); // new
> 	      if(charge>0&&cent>60&&cent<94&&dis6) hh_shengli_ecorept_posproton_cent6->Fill(pT,ecore); // new
> 	      if(charge<0&&cent>60&&cent<94&&dis6) hh_shengli_ecorept_negproton_cent6->Fill(pT,ecore); // new
> 
> 	      if(charge>0&&dis0) hh_X_ecorept_pospion_centMB->Fill(pT,ecore/pT); // new
> 	      if(charge<0&&dis0) hh_X_ecorept_negpion_centMB->Fill(pT,ecore/pT); // new
> 	      if(charge>0&&dis6) hh_X_ecorept_posproton_centMB->Fill(pT,ecore/pT); // new
> 	      if(charge<0&&dis6) hh_X_ecorept_negproton_centMB->Fill(pT,ecore/pT); // new
> 	      if(charge>0&&cent>60&&cent<94&&dis0) hh_X_ecorept_pospion_cent6->Fill(pT,ecore/pT); // new
> 	      if(charge<0&&cent>60&&cent<94&&dis0) hh_X_ecorept_negpion_cent6->Fill(pT,ecore/pT); // new
> 	      if(charge>0&&cent>60&&cent<94&&dis6) hh_X_ecorept_posproton_cent6->Fill(pT,ecore/pT); // new
> 	      if(charge<0&&cent>60&&cent<94&&dis6) hh_X_ecorept_negproton_cent6->Fill(pT,ecore/pT); // new
> 
> 	      if(charge>0&&dis0&&pT>1.4&&pT<1.6) hh_shengli_ecore_pospion_pt15_centMB->Fill(ecore);
> 	      if(charge>0&&dis0&&pT>2.4&&pT<2.6) hh_shengli_ecore_pospion_pt25_centMB->Fill(ecore);
> 	      if(charge>0&&dis0&&pT>3.4&&pT<3.6) hh_shengli_ecore_pospion_pt35_centMB->Fill(ecore);
> 	      if(charge>0&&dis6&&pT>1.4&&pT<1.6) hh_shengli_ecore_posproton_pt15_centMB->Fill(ecore);
> 	      if(charge>0&&dis6&&pT>2.4&&pT<2.6) hh_shengli_ecore_posproton_pt25_centMB->Fill(ecore);
> 	      if(charge>0&&dis6&&pT>3.4&&pT<3.6) hh_shengli_ecore_posproton_pt35_centMB->Fill(ecore);
> 
> 	      if(charge>0&&cent>60&&cent<94&&dis0&&pT>1.4&&pT<1.6) hh_shengli_ecore_pospion_pt15_cent6->Fill(ecore);
> 	      if(charge>0&&cent>60&&cent<94&&dis0&&pT>2.4&&pT<2.6) hh_shengli_ecore_pospion_pt25_cent6->Fill(ecore);
> 	      if(charge>0&&cent>60&&cent<94&&dis0&&pT>3.4&&pT<3.6) hh_shengli_ecore_pospion_pt35_cent6->Fill(ecore);
> 	      if(charge>0&&cent>60&&cent<94&&dis6&&pT>1.4&&pT<1.6) hh_shengli_ecore_posproton_pt15_cent6->Fill(ecore);
> 	      if(charge>0&&cent>60&&cent<94&&dis6&&pT>2.4&&pT<2.6) hh_shengli_ecore_posproton_pt25_cent6->Fill(ecore);
> 	      if(charge>0&&cent>60&&cent<94&&dis6&&pT>3.4&&pT<3.6) hh_shengli_ecore_posproton_pt35_cent6->Fill(ecore);
> 
> 	      if(charge<0&&dis0&&pT>1.4&&pT<1.6) hh_shengli_ecore_negpion_pt15_centMB->Fill(ecore);
> 	      if(charge<0&&dis0&&pT>2.4&&pT<2.6) hh_shengli_ecore_negpion_pt25_centMB->Fill(ecore);
> 	      if(charge<0&&dis0&&pT>3.4&&pT<3.6) hh_shengli_ecore_negpion_pt35_centMB->Fill(ecore);
> 	      if(charge<0&&dis6&&pT>1.4&&pT<1.6) hh_shengli_ecore_negproton_pt15_centMB->Fill(ecore);
> 	      if(charge<0&&dis6&&pT>2.4&&pT<2.6) hh_shengli_ecore_negproton_pt25_centMB->Fill(ecore);
> 	      if(charge<0&&dis6&&pT>3.4&&pT<3.6) hh_shengli_ecore_negproton_pt35_centMB->Fill(ecore);
> 
> 	      if(charge<0&&cent>60&&cent<94&&dis0&&pT>1.4&&pT<1.6) hh_shengli_ecore_negpion_pt15_cent6->Fill(ecore);
> 	      if(charge<0&&cent>60&&cent<94&&dis0&&pT>2.4&&pT<2.6) hh_shengli_ecore_negpion_pt25_cent6->Fill(ecore);
> 	      if(charge<0&&cent>60&&cent<94&&dis0&&pT>3.4&&pT<3.6) hh_shengli_ecore_negpion_pt35_cent6->Fill(ecore);
> 	      if(charge<0&&cent>60&&cent<94&&dis6&&pT>1.4&&pT<1.6) hh_shengli_ecore_negproton_pt15_cent6->Fill(ecore);
> 	      if(charge<0&&cent>60&&cent<94&&dis6&&pT>2.4&&pT<2.6) hh_shengli_ecore_negproton_pt25_cent6->Fill(ecore);
> 	      if(charge<0&&cent>60&&cent<94&&dis6&&pT>3.4&&pT<3.6) hh_shengli_ecore_negproton_pt35_cent6->Fill(ecore);
